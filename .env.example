# ========================================
# Microsoft Bot Framework Authentication
# ========================================
# Recommended: User-Assigned Managed Identity (UserAssignedMSI)
# Alternative: SingleTenant or MultiTenant (deprecated after July 2025)

# App Type: UserAssignedMSI | SingleTenant | MultiTenant
MicrosoftAppType=UserAssignedMSI

# Client ID of your User-Assigned Managed Identity or App Registration
# Find it in: Azure Portal > Managed Identities > Your Identity > Properties > Client ID
# Or: Azure Portal > App Registrations > Your App > Overview > Application (client) ID
MicrosoftAppId=YOUR_BOT_APP_ID_HERE

# Leave EMPTY for User-Assigned Managed Identity
# For SingleTenant or MultiTenant, set your app secret here
MicrosoftAppPassword=

# Tenant ID of your Azure Active Directory
# Find it in: Azure Portal > Azure Active Directory > Overview > Tenant ID
MicrosoftAppTenantId=YOUR_TENANT_ID_HERE

# ========================================
# Multi-Tenant Access Control (OPTIONAL)
# ========================================
# Restrict access to specific Azure AD tenants
# Leave empty to allow ALL tenants (public bot)
# Or provide comma-separated list of allowed tenant IDs (no spaces)
# Example: ALLOWED_TENANTS=tenant-id-1,tenant-id-2,tenant-id-3
ALLOWED_TENANTS=

# ========================================
# OAuth User Authentication (REQUIRED for SSO)
# ========================================
# OAuth Connection Name configured in Azure Bot Service
# IMPORTANT: This MUST match exactly the name in Azure Portal:
# Bot Service > Configuration > OAuth Connection Settings
# Example: EntraIDConnection, AzureADv2, etc.
OAUTH_CONNECTION_NAME=EntraIDConnection

# ========================================
# Azure AI Foundry Configuration
# ========================================
# Azure AI Foundry Project Endpoint
# Find it in: https://ai.azure.com > Your Project > Settings > Project connection string
# Format: https://YOUR_FOUNDRY_RESOURCE.services.ai.azure.com/api/projects/YOUR_PROJECT_NAME
AZURE_FOUNDRY_PROJECT_ENDPOINT=https://your-foundry.services.ai.azure.com/api/projects/your-project

# Agent Name created in Azure AI Foundry
# Find it in: https://ai.azure.com > Your Project > Agents > Your Agent Name
# NOTE: Authentication uses Managed Identity only (no API keys for security compliance)
AZURE_FOUNDRY_AGENT_NAME=YOUR_AGENT_NAME

# ========================================
# Application Settings
# ========================================
# Port for local development
PORT=8000

# Logging level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Public Base URL - REQUIRED for production
# This is the public HTTPS endpoint where your bot is accessible
# For Azure Web App: https://your-app-name.azurewebsites.net/api/messages
# For ngrok (testing): https://your-ngrok-id.ngrok-free.app/api/messages
# IMPORTANT: Must include https:// prefix and /api/messages suffix
PUBLIC_BASE_URL=https://YOUR_APP_NAME.azurewebsites.net/api/messages
